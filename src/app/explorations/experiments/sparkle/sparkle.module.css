:root {
  --color: #f3e76f;
  --shadow: #fbe800;
  --glare: hsl(0 0% 100% / 0.75);
  --font-size: 2rem;
  --transition: 0.2s;
}

.sparkleButton {
  --hover: 0.4;
  --pos: 0;
  position: relative;
  padding: 1rem 2rem;
  border-radius: 1rem;
  text-decoration: none;
  color: transparent;
  display: inline-block;
  transition:  0.2s;
}

.sparkleButton:hover {
  --hover: 1;
  --pos: 1;
  background: #333;
}

.sparkleButton span {
  display: inline-block;
  font-size: var(--font-size);
  font-weight: 700;
  text-shadow:
    calc(var(--hover) * -0px) calc(var(--hover) * 0px) var(--shadow),
    calc(var(--hover) * -0.02em) calc(var(--hover) * 0.02em) var(--shadow),
    calc(var(--hover) * -0.04em) calc(var(--hover) * 0.04em) var(--shadow),
    calc(var(--hover) * -0.06em) calc(var(--hover) * 0.06em) var(--shadow);
  transition: all 0.2s;
  position: relative;
}

.sparkleButton span:last-of-type {
  position: absolute;
  inset: 0;
  background: linear-gradient(
    108deg,
    transparent 0 55%,
    var(--glare) 55% 60%,
    transparent 60% 70%,
    var(--glare) 70% 85%,
    transparent 85%
  ) calc(var(--pos) * -200%) 0% / 200% 100%, var(--color);
  -webkit-background-clip: text;
  color: transparent;
  z-index: 2;
  text-shadow: none;
  transition: transform 0.2s, background-position 0s;
}

.sparkleButton:hover span:last-of-type {
  transition: transform 0.2s, background-position calc(var(--hover) * 1.5s) calc(var(--hover) * 0.25s);
}

/* Sparkles SVG base */
.sparkleButton svg {
  position: absolute;
  z-index: 3;
  width: calc(var(--font-size) * 0.5);
  aspect-ratio: 1;
  fill: var(--glare);
  --delay-step: 0.15;
  top: 50%;
  left: 0%;
  transform: translate(-50%, -50%) scale(0);
}

.sparkleButton:hover svg {
  animation: sparkle 0.75s calc((var(--delay-step) * var(--d,1)) * 1s) both;
}

@keyframes sparkle {
  50% {
    transform: translate(-50%, -50%) scale(var(--s, 1));
  }
}

/* Individual sparkles positions */
.sparkleButton svg:nth-of-type(1) { --x:0; --y:20; --s:1.1; --d:1; left: calc(var(--x) * 1%); top: calc(var(--y) * 1%); }
.sparkleButton svg:nth-of-type(2) { --x:15; --y:80; --s:1.25; --d:2; left: calc(var(--x) * 1%); top: calc(var(--y) * 1%); }
.sparkleButton svg:nth-of-type(3) { --x:45; --y:40; --s:1.1; --d:3; left: calc(var(--x) * 1%); top: calc(var(--y) * 1%); }
.sparkleButton svg:nth-of-type(4) { --x:75; --y:60; --s:0.9; --d:2; left: calc(var(--x) * 1%); top: calc(var(--y) * 1%); }
.sparkleButton svg:nth-of-type(5) { --x:100; --y:30; --s:0.8; --d:4; left: calc(var(--x) * 1%); top: calc(var(--y) * 1%); }
